<!DOCTYPE html>
<html>
<head>
  <title>Direction Without Compass</title>
</head>
<body>
  <h1>Direction Tracker</h1>
  <p id="direction">Calculating...</p>
  <script>
    let currentAngle = 0;

    if (window.DeviceMotionEvent) {
      window.addEventListener("devicemotion", (event) => {
        if (event.rotationRate) {
          // Rotation rate around the Z-axis (degrees/second)
          const zRotationRate = event.rotationRate.alpha;

          // Calculate the change in angle over time
          const deltaTime = 0.1; // Assuming event fires every 100ms
          const deltaAngle = zRotationRate * deltaTime;

          // Update the current angle
          currentAngle += deltaAngle;
          currentAngle %= 360; // Keep angle between 0 and 360

          document.getElementById("direction").textContent = 
            `Current direction: ${Math.round(currentAngle)}Â°`;
        }
      });
    } else {
      document.getElementById("direction").textContent = 
        "DeviceMotionEvent not supported on this device.";
    }
  </script>
</body>
</html>
